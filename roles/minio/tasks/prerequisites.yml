---
# .......................................................................
- name: Verify prerequisite variables
  assert:
    that:
      - minio_root_password != "changeme"
      - minio_data_dir is defined
      - minio_api_port is defined
    fail_msg: "Required variables not properly configured"

# .......................................................................
# Get container user mapping first
- name: Get directory ownership
  ansible.builtin.stat:
    path: "{{minio_data_dir}}/config"
  register: dir_info

- name: Debug ownership
  ansible.builtin.debug:
    msg: "uid: {{dir_info.stat.uid}}, gid: {{dir_info.stat.gid}}"
# .......................................................................
# NOTE: Directory creation and SELinux handled by _base/prepare.yml
# No additional prerequisites needed for MinIO
