; Gitea Configuration File
; Generated by Ansible - do not edit manually

[DEFAULT]
APP_NAME = {{ gitea_app_name }}
RUN_MODE = prod

[server]
DOMAIN           = {{ gitea_domain }}
HTTP_PORT        = 3000
ROOT_URL         = {{ gitea_root_url }}
DISABLE_SSH      = false
SSH_DOMAIN       = {{ gitea_domain }}
SSH_PORT         = {{ gitea_ssh_port }}
SSH_LISTEN_PORT  = 22
START_SSH_SERVER = false
LFS_START_SERVER = {{ 'true' if gitea_enable_lfs else 'false' }}
OFFLINE_MODE     = false

[database]
DB_TYPE  = {{ gitea_db_type }}
PATH     = {{ gitea_db_path }}

[repository]
ROOT = /data/git/repositories
DEFAULT_BRANCH = main

[repository.local]
LOCAL_COPY_PATH = /data/gitea/tmp/local-repo

[repository.upload]
TEMP_PATH = /data/gitea/uploads

[server]
APP_DATA_PATH    = /data/gitea
TEMP_PATH        = /data/gitea/tmp

[session]
PROVIDER_CONFIG = /data/gitea/sessions
PROVIDER = file

[picture]
AVATAR_UPLOAD_PATH      = /data/gitea/avatars
REPOSITORY_AVATAR_UPLOAD_PATH = /data/gitea/repo-avatars

[attachment]
PATH = /data/gitea/attachments

[log]
MODE      = console, file
LEVEL     = info
ROOT_PATH = /data/gitea/log

[security]
INSTALL_LOCK   = true
SECRET_KEY     = {{ gitea_admin_password | hash('sha256') }}
INTERNAL_TOKEN = {{ (gitea_admin_password + gitea_domain) | hash('sha256') }}

[service]
DISABLE_REGISTRATION = {{ 'true' if gitea_disable_registration else 'false' }}
REQUIRE_SIGNIN_VIEW  = {{ 'true' if gitea_require_signin else 'false' }}
REGISTER_EMAIL_CONFIRM = false
ENABLE_NOTIFY_MAIL     = false
DEFAULT_KEEP_EMAIL_PRIVATE = true
DEFAULT_ALLOW_CREATE_ORGANIZATION = true
DEFAULT_ENABLE_TIMETRACKING = true
NO_REPLY_ADDRESS = noreply.{{ gitea_domain }}

[mailer]
ENABLED = false

[openid]
ENABLE_OPENID_SIGNIN = false
ENABLE_OPENID_SIGNUP = false

[actions]
ENABLED = {{ 'true' if gitea_enable_actions else 'false' }}
DEFAULT_ACTIONS_URL = https://github.com

[lfs]
PATH = /data/git/lfs

[git]
MAX_GIT_DIFF_LINES = 1000
MAX_GIT_DIFF_LINE_CHARACTERS = 5000
MAX_GIT_DIFF_FILES = 100

[indexer]
ISSUE_INDEXER_PATH = /data/gitea/indexers/issues.bleve
REPO_INDEXER_ENABLED = true
REPO_INDEXER_PATH = /data/gitea/indexers/repos.bleve

[queue]
TYPE = level
DATADIR = /data/gitea/queues

[admin]
DISABLE_REGULAR_ORG_CREATION = false

[webhook]
ALLOWED_HOST_LIST = *

[other]
SHOW_FOOTER_VERSION = true
SHOW_FOOTER_TEMPLATE_LOAD_TIME = false
